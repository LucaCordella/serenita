<!doctype html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Serenità · Autocuidado</title>
    
    <!-- design tokens (variáveis) -->
    <link rel="stylesheet" href="../styles/variables.css">
    <link rel="stylesheet" href="../styles/base.css">
    <link rel="stylesheet" href="../styles/components.css">
    
    <!-- page specific -->
    <link rel="stylesheet" href="../styles/autocuidado.css">
    
    <!-- Lucide Icons CDN -->
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body>
    <!-- ===== HEADER (fixo) ===== -->
    <header class="hub-header" role="banner">
        <div class="header-left">
            <a href="/pages/hub.html" class="brand-link">
                <div class="logo-round" aria-hidden="true">
                    <span class="logo-fallback">S</span>
                </div>
                <span class="brand-text">Serenità</span>
            </a>
        </div>
        
        <div class="header-right">
            <!-- Botão Emergência -->
            <button id="emergencyBtn" class="btn-emergency" aria-label="Emergência" title="Ajuda de Emergência">
                <i data-lucide="alert-triangle" class="icon-emergency"></i>
                <span>Emergência</span>
            </button>
            
            <!-- Notificações -->
            <button id="notificationBtn" class="icon-btn notification-btn" aria-label="Notificações" title="Notificações">
                <i data-lucide="bell"></i>
                <span class="notification-badge">1</span>
            </button>
            
            <!-- Perfil -->
            <button id="profileBtn" class="icon-btn profile-btn" aria-label="Perfil" aria-expanded="false">
                <div class="profile-avatar">
                    <span id="userInitials">U</span>
                </div>
            </button>
            
            <!-- Dropdown Perfil -->
            <div id="profileDropdown" class="dropdown-menu" hidden>
                <a href="#" class="dropdown-item" id="profileLink">
                    <i data-lucide="user" class="dropdown-icon"></i>
                    Perfil
                </a>
                <a href="#" class="dropdown-item" id="settingsLink">
                    <i data-lucide="settings" class="dropdown-icon"></i>
                    Configurações
                </a>
                <div class="dropdown-divider"></div>
                <a href="../pages/landing.html" class="dropdown-item" id="logoutLink">
                    <i data-lucide="log-out" class="dropdown-icon"></i>
                    Sair
                </a>
            </div>
        </div>
    </header>

    <!-- ===== SIDEBAR (fixa) ===== -->
    <aside class="hub-sidebar" role="navigation" aria-label="Menu principal">
        <nav class="sidebar-nav">
            <ul class="sidebar-list">
                <li>
                    <a href="../pages/hub.html" class="sidebar-link" data-feature="inicio">
                        <i data-lucide="home" class="sidebar-icon"></i>
                        <span class="sidebar-text">Início</span>
                    </a>
                </li>
                <li>
                    <a href="../pages/diario-humor.html" class="sidebar-link" data-feature="diario-humor">
                        <i data-lucide="smile" class="sidebar-icon"></i>
                        <span class="sidebar-text">Diário de Humor</span>
                    </a>
                </li>
                <li>
                    <a href="../pages/sintomas.html" class="sidebar-link" data-feature="sintomas">
                        <i data-lucide="heart" class="sidebar-icon"></i>
                        <span class="sidebar-text">Sintomas</span>
                    </a>
                </li>
                <li>
                    <a href="#" class="sidebar-link" data-feature="tendencias">
                        <i data-lucide="trending-up" class="sidebar-icon"></i>
                        <span class="sidebar-text">Tendências</span>
                    </a>
                </li>
                <li>
                    <a href="#" class="sidebar-link" data-feature="avaliacoes">
                        <i data-lucide="check-square" class="sidebar-icon"></i>
                        <span class="sidebar-text">Avaliações</span>
                    </a>
                </li>
                <li>
                    <a href="../pages/autocuidado.html" class="sidebar-link active" data-feature="autocuidado">
                        <i data-lucide="brain" class="sidebar-icon"></i>
                        <span class="sidebar-text">Autocuidado</span>
                    </a>
                </li>
            </ul>
            
            <!-- Sidebar Footer -->
            <ul class="sidebar-list sidebar-footer">
                <li>
                    <a href="#" class="sidebar-link" data-feature="configuracoes">
                        <i data-lucide="settings" class="sidebar-icon"></i>
                        <span class="sidebar-text">Configurações</span>
                    </a>
                </li>
                <li>
                    <a href="#" class="sidebar-link" data-feature="perfil">
                        <i data-lucide="user" class="sidebar-icon"></i>
                        <span class="sidebar-text">Perfil</span>
                    </a>
                </li>
            </ul>
        </nav>
    </aside>

    <!-- ===== MAIN CONTENT ===== -->
    <main class="hub-main" role="main">
        <div class="hub-container">
            <!-- Título da Página -->
            <div class="page-header-section">
                <h1 class="page-title">Autocuidado e Hábitos</h1>
                <p class="page-subtitle">Gerencie suas tarefas de autocuidado e exercícios guiados</p>
            </div>

            <!-- Tabs de Navegação -->
            <div class="tabs-container">
                <button class="tab-btn active" data-tab="tarefas">Tarefas Diárias</button>
                <button class="tab-btn" data-tab="praticas">Práticas de Bem-Estar</button>
            </div>

            <!-- ===== ABA TAREFAS DIÁRIAS ===== -->
            <div class="tab-content active" id="tabTarefas">
                <section class="card tasks-card">
                    <div class="card-header">
                        <h2 class="card-title">Tarefas de Autocuidado</h2>
                        <p class="card-subtitle">Acompanhe suas atividades diárias de autocuidado</p>
                    </div>

                    <!-- Input para adicionar tarefa -->
                    <div class="task-input-container">
                        <div class="task-input-wrapper">
                            <i data-lucide="plus-circle" class="input-icon-task"></i>
                            <input 
                                type="text" 
                                id="taskInput" 
                                class="task-input" 
                                placeholder="Adicionar nova tarefa de autocuidado..."
                                maxlength="100"
                            />
                            <button type="button" id="addTaskBtn" class="btn-add-task" aria-label="Adicionar tarefa">
                                <i data-lucide="plus"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Seletor de categoria para nova tarefa -->
                    <div class="category-quick-select" id="categoryQuickSelect">
                        <button type="button" class="category-quick-btn" data-category="fisico">
                            <i data-lucide="activity"></i>
                            Físico
                        </button>
                        <button type="button" class="category-quick-btn" data-category="mental">
                            <i data-lucide="brain"></i>
                            Mental
                        </button>
                        <button type="button" class="category-quick-btn active" data-category="social">
                            <i data-lucide="users"></i>
                            Social
                        </button>
                    </div>

                    <!-- Lista de Tarefas -->
                    <div class="tasks-list" id="tasksList">
                        <!-- Tasks serão inseridas dinamicamente aqui -->
                    </div>

                    <!-- Empty State -->
                    <div class="empty-state" id="tasksEmptyState">
                        <i data-lucide="list-todo" class="empty-icon"></i>
                        <p class="empty-text">Nenhuma tarefa ainda</p>
                        <p class="empty-hint">Adicione sua primeira tarefa de autocuidado!</p>
                    </div>

                    <!-- Progress Footer -->
                    <div class="tasks-progress" id="tasksProgress" style="display: none;">
                        <div class="progress-info">
                            <span id="progressText">0 de 0 tarefas concluídas</span>
                            <span id="progressPercent">0% completo</span>
                        </div>
                        <div class="progress-bar-container">
                            <div class="progress-bar-fill" id="progressBarFill" style="width: 0%"></div>
                        </div>
                    </div>
                </section>
            </div>

            <!-- ===== ABA PRÁTICAS DE BEM-ESTAR ===== -->
            <div class="tab-content" id="tabPraticas">
                <section class="card practices-card">
                    <div class="card-header">
                        <h2 class="card-title">Práticas de Bem-Estar</h2>
                        <p class="card-subtitle">Reserve um momento para respirar e relaxar</p>
                    </div>

                    <!-- Grid de Práticas -->
                    <div class="practices-grid">
                        <!-- Exercício de Respiração -->
                        <article class="practice-item" data-practice="respiracao">
                            <div class="practice-icon breathing-icon">
                                <i data-lucide="wind"></i>
                            </div>
                            <h3 class="practice-title">Exercício de Respiração</h3>
                            <p class="practice-desc">Técnica 4-7-8 para relaxamento profundo</p>
                            <div class="practice-meta">
                                <span class="practice-duration">
                                    <i data-lucide="clock"></i>
                                    5 min
                                </span>
                            </div>
                            <button class="btn btn-practice" data-practice-action="respiracao">
                                Iniciar
                            </button>
                        </article>

                        <!-- Meditação Guiada -->
                        <article class="practice-item" data-practice="meditacao">
                            <div class="practice-icon meditation-icon">
                                <i data-lucide="sparkles"></i>
                            </div>
                            <h3 class="practice-title">Meditação Guiada</h3>
                            <p class="practice-desc">Momento de paz e mindfulness</p>
                            <div class="practice-meta">
                                <span class="practice-duration">
                                    <i data-lucide="clock"></i>
                                    10 min
                                </span>
                            </div>
                            <button class="btn btn-practice" data-practice-action="meditacao">
                                Iniciar
                            </button>
                        </article>

                        <!-- Gratidão -->
                        <article class="practice-item" data-practice="gratidao">
                            <div class="practice-icon gratitude-icon">
                                <i data-lucide="heart"></i>
                            </div>
                            <h3 class="practice-title">Gratidão do Dia</h3>
                            <p class="practice-desc">Registre 3 coisas boas de hoje</p>
                            <div class="practice-meta">
                                <span class="practice-duration">
                                    <i data-lucide="clock"></i>
                                    3 min
                                </span>
                            </div>
                            <button class="btn btn-practice" data-practice-action="gratidao">
                                Iniciar
                            </button>
                        </article>
                    </div>
                </section>
            </div>
        </div>
    </main>

    <!-- ===== FOOTER ===== -->
    <footer class="hub-footer">
        <div class="footer-content">
            <p class="footer-text">© 2025 Serenità por Luca Cordella</p>
        </div>
    </footer>

    <!-- ===== MODALS ===== -->
    
    <!-- Modal de Emergência -->
    <div id="emergencyModal" class="modal" hidden aria-modal="true" role="dialog" aria-labelledby="emergencyTitle">
        <div class="modal-overlay" id="emergencyOverlay"></div>
        <div class="modal-content emergency-modal">
            <button class="modal-close" id="closeEmergency" aria-label="Fechar">
                <i data-lucide="x"></i>
            </button>
            <div class="emergency-header">
                <h2 id="emergencyTitle" class="emergency-title">
                    <i data-lucide="alert-triangle" class="emergency-icon"></i>
                    Ajuda de Emergência
                </h2>
                <p class="emergency-subtitle">Se você ou alguém está em perigo, procure ajuda imediatamente.</p>
            </div>
            <div class="emergency-body">
                <div class="emergency-section">
                    <h3 class="emergency-section-title">
                        <i data-lucide="phone" class="section-icon"></i>
                        Canais de Apoio 24h
                    </h3>
                    <ul class="emergency-list">
                        <li class="emergency-item">
                            <span class="emergency-label">CVV – Centro de Valorização da Vida</span>
                            <a href="tel:188" class="emergency-phone">188</a>
                        </li>
                        <li class="emergency-item">
                            <span class="emergency-label">SAMU – Emergência Médica</span>
                            <a href="tel:192" class="emergency-phone">192</a>
                        </li>
                        <li class="emergency-item">
                            <span class="emergency-label">Polícia Militar</span>
                            <a href="tel:190" class="emergency-phone">190</a>
                        </li>
                        <li class="emergency-item">
                            <span class="emergency-label">Bombeiros</span>
                            <a href="tel:193" class="emergency-phone">193</a>
                        </li>
                    </ul>
                </div>
                <div class="emergency-section">
                    <h3 class="emergency-section-title">
                        <i data-lucide="user" class="section-icon"></i>
                        Contato de Emergência Pessoal
                    </h3>
                    <div class="emergency-personal">
                        <span class="emergency-label">Telefone cadastrado:</span>
                        <span class="emergency-phone-display">XXXXXXX</span>
                        <p class="emergency-hint">Configure nas <a href="#" id="emergencySettingsLink">Configurações</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Notificação -->
    <div id="notificationModal" class="modal notification-modal" hidden>
        <div class="modal-overlay" id="notificationOverlay"></div>
        <div class="modal-content notification-content">
            <button class="modal-close" id="closeNotification" aria-label="Fechar">
                <i data-lucide="x"></i>
            </button>
            <h3 class="notification-title">
                <i data-lucide="bell"></i>
                Notificações
            </h3>
            <ul class="notification-list">
                <li class="notification-item unread">
                    <i data-lucide="sparkles" class="notification-icon"></i>
                    <div class="notification-text">
                        <p class="notification-message">Você entrou no Autocuidado</p>
                        <span class="notification-time">Agora</span>
                    </div>
                </li>
            </ul>
        </div>
    </div>

    <!-- Modal de Prática (Respiração) -->
    <div id="practiceModal" class="modal practice-modal" hidden>
        <div class="modal-overlay" id="practiceOverlay"></div>
        <div class="modal-content practice-modal-content">
            <button class="modal-close" id="closePractice" aria-label="Fechar">
                <i data-lucide="x"></i>
            </button>
            
            <div id="practiceModalContent">
                <!-- Conteúdo será inserido dinamicamente -->
            </div>
        </div>
    </div>

    <!-- Toast de Feedback -->
    <div class="toast" id="toast" hidden>
        <i data-lucide="check-circle" class="toast-icon"></i>
        <span class="toast-message">Tarefa adicionada com sucesso!</span>
    </div>

    <script src="../pages/autocuidado.js" defer></script>
    <script>
        // Inicializar ícones Lucide após o DOM carregar
        document.addEventListener('DOMContentLoaded', () => {
            lucide.createIcons();
        });
    </script>
</body>
</html>