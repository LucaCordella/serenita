<!doctype html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Serenità · Configurações</title>
    <!-- design tokens (variáveis) -->
    <link rel="stylesheet" href="../styles/variables.css">
    <link rel="stylesheet" href="../styles/base.css">
    <link rel="stylesheet" href="../styles/components.css">
    <!-- page specific -->
    <link rel="stylesheet" href="../styles/configuracoes.css">
    <!-- Lucide Icons CDN -->
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body>
    <!-- ===== HEADER (fixo) ===== -->
    <header class="hub-header" role="banner">
        <div class="header-left">
            <a href="/pages/hub.html" class="brand-link">
                <div class="logo-round" aria-hidden="true">
                    <span class="logo-fallback">S</span>
                </div>
                <span class="brand-text">Serenità</span>
            </a>
        </div>
        <div class="header-right">
            <!-- Botão Emergência -->
            <button id="emergencyBtn" class="btn-emergency" aria-label="Emergência" title="Ajuda de Emergência">
                <i data-lucide="alert-triangle" class="icon-emergency"></i>
                <span>Emergência</span>
            </button>
            <!-- Notificações -->
            <button id="notificationBtn" class="icon-btn notification-btn" aria-label="Notificações" title="Notificações">
                <i data-lucide="bell"></i>
                <span class="notification-badge">1</span>
            </button>
            <!-- Perfil -->
            <button id="profileBtn" class="icon-btn profile-btn" aria-label="Perfil" aria-expanded="false">
                <div class="profile-avatar">
                    <span id="userInitials">U</span>
                </div>
            </button>
            <!-- Dropdown Perfil -->
            <div id="profileDropdown" class="dropdown-menu" hidden>
                <a href="#" class="dropdown-item" id="profileLink">
                    <i data-lucide="user" class="dropdown-icon"></i>
                    Perfil
                </a>
                <a href="../pages/configuracoes.html" class="dropdown-item">
                    <i data-lucide="settings" class="dropdown-icon"></i>
                    Configurações
                </a>
                <div class="dropdown-divider"></div>
                <a href="../pages/landing.html" class="dropdown-item" id="logoutLink">
                    <i data-lucide="log-out" class="dropdown-icon"></i>
                    Sair
                </a>
            </div>
        </div>
    </header>

    <!-- ===== SIDEBAR (fixa) ===== -->
    <aside class="hub-sidebar" role="navigation" aria-label="Menu principal">
        <nav class="sidebar-nav">
            <ul class="sidebar-list">
                <li>
                    <a href="../pages/hub.html" class="sidebar-link" data-feature="inicio">
                        <i data-lucide="home" class="sidebar-icon"></i>
                        <span class="sidebar-text">Início</span>
                    </a>
                </li>
                <li>
                    <a href="../pages/diario-humor.html" class="sidebar-link" data-feature="diario-humor">
                        <i data-lucide="smile" class="sidebar-icon"></i>
                        <span class="sidebar-text">Diário de Humor</span>
                    </a>
                </li>
                <li>
                    <a href="../pages/sintomas.html" class="sidebar-link" data-feature="sintomas">
                        <i data-lucide="heart" class="sidebar-icon"></i>
                        <span class="sidebar-text">Sintomas</span>
                    </a>
                </li>
                <li>
                    <a href="../pages/tendencias.html" class="sidebar-link" data-feature="tendencias">
                        <i data-lucide="trending-up" class="sidebar-icon"></i>
                        <span class="sidebar-text">Tendências</span>
                    </a>
                </li>
                <li>
                    <a href="../pages/avaliacoes.html" class="sidebar-link" data-feature="avaliacoes">
                        <i data-lucide="check-square" class="sidebar-icon"></i>
                        <span class="sidebar-text">Avaliações</span>
                    </a>
                </li>
                <li>
                    <a href="../pages/autocuidado.html" class="sidebar-link" data-feature="autocuidado">
                        <i data-lucide="brain" class="sidebar-icon"></i>
                        <span class="sidebar-text">Autocuidado</span>
                    </a>
                </li>
            </ul>
            <!-- Sidebar Footer -->
            <ul class="sidebar-list sidebar-footer">
                <li>
                    <a href="../pages/configuracoes.html" class="sidebar-link active" data-feature="configuracoes">
                        <i data-lucide="settings" class="sidebar-icon"></i>
                        <span class="sidebar-text">Configurações</span>
                    </a>
                </li>
                <li>
                    <a href="#" class="sidebar-link" data-feature="perfil">
                        <i data-lucide="user" class="sidebar-icon"></i>
                        <span class="sidebar-text">Perfil</span>
                    </a>
                </li>
            </ul>
        </nav>
    </aside>

    <!-- ===== MAIN CONTENT ===== -->
    <main class="hub-main" role="main">
        <div class="hub-container">
            <!-- Título da Página -->
            <div class="page-header-section">
                <h1 class="page-title">Configurações</h1>
                <p class="page-subtitle">Gerencie suas preferências e configurações da conta</p>
            </div>

            <!-- Seção: Conta -->
            <section class="settings-section">
                <div class="section-header">
                    <i data-lucide="user" class="section-icon"></i>
                    <h2 class="section-title">Conta</h2>
                </div>
                <p class="section-description">Gerencie suas informações de conta</p>

                <div class="settings-list">
                    <!-- Editar Perfil -->
                    <div class="settings-item">
                        <div class="settings-item-content">
                            <div class="settings-item-icon">
                                <i data-lucide="user-circle"></i>
                            </div>
                            <div class="settings-item-text">
                                <h3 class="settings-item-title">Editar Perfil</h3>
                                <p class="settings-item-description">Atualize suas informações pessoais e preferências</p>
                            </div>
                        </div>
                        <button class="btn-settings" id="editProfileBtn">
                            Editar Perfil
                        </button>
                    </div>

                    <!-- Sair da Conta -->
                    <div class="settings-item">
                        <div class="settings-item-content">
                            <div class="settings-item-icon danger">
                                <i data-lucide="log-out"></i>
                            </div>
                            <div class="settings-item-text">
                                <h3 class="settings-item-title">Sair da Conta</h3>
                                <p class="settings-item-description">Desconecte-se do aplicativo</p>
                            </div>
                        </div>
                        <button class="btn-settings btn-danger" id="logoutBtn">
                            <i data-lucide="log-out"></i>
                            Sair
                        </button>
                    </div>
                </div>
            </section>

            <!-- Seção: Contato de Emergência -->
            <section class="settings-section">
                <div class="section-header">
                    <i data-lucide="phone" class="section-icon"></i>
                    <h2 class="section-title">Contato de Emergência</h2>
                </div>
                <p class="section-description">Configure um número de contato pessoal para emergências</p>

                <div class="settings-list">
                    <div class="settings-item">
                        <div class="settings-item-content">
                            <div class="settings-item-icon emergency">
                                <i data-lucide="phone-call"></i>
                            </div>
                            <div class="settings-item-text">
                                <h3 class="settings-item-title">Número de Emergência Pessoal</h3>
                                <p class="settings-item-description" id="emergencyContactDisplay">Nenhum número cadastrado</p>
                            </div>
                        </div>
                        <button class="btn-settings" id="manageEmergencyBtn">
                            Gerenciar
                        </button>
                    </div>
                </div>
            </section>

            <!-- Seção: Sobre o Serenità -->
            <section class="settings-section">
                <div class="section-header">
                    <i data-lucide="info" class="section-icon"></i>
                    <h2 class="section-title">Sobre o Serenità</h2>
                </div>
                <p class="section-description">O Serenità nasceu para suprir a carência de ferramentas acessíveis e centradas no usuário que auxiliem jovens e universitários a monitorarem seu humor, registrar sintomas e adotar hábitos de autocuidado. A solução proposta unifica diário de humor, testes psicológicos simples e comunidade anônima em uma única plataforma.</p>

                <div class="about-details">
                    <div class="detail-row">
                        <span class="detail-label">Versão</span>
                        <span class="detail-value">1.0.0</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Desenvolvido por</span>
                        <span class="detail-value">Luca Cordella</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Última atualização</span>
                        <span class="detail-value">Janeiro 2025</span>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- ===== FOOTER ===== -->
    <footer class="hub-footer">
        <div class="footer-content">
            <p class="footer-text">© 2025 Serenità por Luca Cordella</p>
        </div>
    </footer>

    <!-- ===== MODALS ===== -->
    
    <!-- Modal de Contato de Emergência -->
    <div id="emergencyContactModal" class="modal" hidden>
        <div class="modal-overlay" id="emergencyContactOverlay"></div>
        <div class="modal-content emergency-contact-modal">
            <button class="modal-close" id="closeEmergencyContact" aria-label="Fechar">
                <i data-lucide="x"></i>
            </button>
            <div class="modal-header">
                <i data-lucide="phone-call" class="modal-header-icon"></i>
                <h2 class="modal-title">Contato de Emergência Pessoal</h2>
                <p class="modal-subtitle">Configure um número de contato que você pode ligar em caso de emergência</p>
            </div>

            <form id="emergencyContactForm" class="emergency-contact-form">
                <div class="form-group">
                    <label for="contactName" class="form-label">Nome do Contato</label>
                    <input 
                        type="text" 
                        id="contactName" 
                        class="form-input" 
                        placeholder="Ex: Mãe, Pai, Melhor Amigo..."
                        maxlength="50"
                    />
                </div>

                <div class="form-group">
                    <label for="contactPhone" class="form-label">Número de Telefone</label>
                    <input 
                        type="tel" 
                        id="contactPhone" 
                        class="form-input" 
                        placeholder="(00) 00000-0000"
                        maxlength="15"
                    />
                </div>

                <div class="form-actions">
                    <button type="button" class="btn-secondary" id="deleteContactBtn" style="display: none;">
                        <i data-lucide="trash-2"></i>
                        Excluir
                    </button>
                    <button type="submit" class="btn-primary">
                        <i data-lucide="save"></i>
                        Salvar Contato
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal de Emergência -->
    <div id="emergencyModal" class="modal" hidden aria-modal="true" role="dialog" aria-labelledby="emergencyTitle">
        <div class="modal-overlay" id="emergencyOverlay"></div>
        <div class="modal-content emergency-modal">
            <button class="modal-close" id="closeEmergency" aria-label="Fechar">
                <i data-lucide="x"></i>
            </button>
            <div class="emergency-header">
                <h2 id="emergencyTitle" class="emergency-title">
                    <i data-lucide="alert-triangle" class="emergency-icon"></i>
                    Ajuda de Emergência
                </h2>
                <p class="emergency-subtitle">Se você ou alguém está em perigo, procure ajuda imediatamente.</p>
            </div>
            <div class="emergency-body">
                <div class="emergency-section">
                    <h3 class="emergency-section-title">
                        <i data-lucide="phone" class="section-icon"></i>
                        Canais de Apoio 24h
                    </h3>
                    <ul class="emergency-list">
                        <li class="emergency-item">
                            <span class="emergency-label">CVV – Centro de Valorização da Vida</span>
                            <a href="tel:188" class="emergency-phone">188</a>
                        </li>
                        <li class="emergency-item">
                            <span class="emergency-label">SAMU – Emergência Médica</span>
                            <a href="tel:192" class="emergency-phone">192</a>
                        </li>
                        <li class="emergency-item">
                            <span class="emergency-label">Polícia Militar</span>
                            <a href="tel:190" class="emergency-phone">190</a>
                        </li>
                        <li class="emergency-item">
                            <span class="emergency-label">Bombeiros</span>
                            <a href="tel:193" class="emergency-phone">193</a>
                        </li>
                    </ul>
                </div>
                <div class="emergency-section">
                    <h3 class="emergency-section-title">
                        <i data-lucide="user" class="section-icon"></i>
                        Contato de Emergência Pessoal
                    </h3>
                    <div class="emergency-personal">
                        <span class="emergency-label">Telefone cadastrado:</span>
                        <span class="emergency-phone-display" id="emergencyPhoneDisplay">Não cadastrado</span>
                        <p class="emergency-hint">Configure nas <a href="../pages/configuracoes.html">Configurações</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Notificação -->
    <div id="notificationModal" class="modal notification-modal" hidden>
        <div class="modal-overlay" id="notificationOverlay"></div>
        <div class="modal-content notification-content">
            <button class="modal-close" id="closeNotification" aria-label="Fechar">
                <i data-lucide="x"></i>
            </button>
            <h3 class="notification-title">
                <i data-lucide="bell"></i>
                Notificações
            </h3>
            <ul class="notification-list">
                <li class="notification-item unread">
                    <i data-lucide="sparkles" class="notification-icon"></i>
                    <div class="notification-text">
                        <p class="notification-message">Você entrou em Configurações</p>
                        <span class="notification-time">Agora</span>
                    </div>
                </li>
            </ul>
        </div>
    </div>

    <!-- Toast de Feedback -->
    <div class="toast" id="toast" hidden>
        <i data-lucide="check-circle" class="toast-icon"></i>
        <span class="toast-message">Configurações atualizadas!</span>
    </div>

    <script src="../pages/configuracoes.js" defer></script>
    <script>
        // Inicializar ícones Lucide após o DOM carregar
        document.addEventListener('DOMContentLoaded', () => {
            lucide.createIcons();
        });
    </script>
</body>
</html>